

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>wildcards module &mdash; textobjects 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> textobjects
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">wildcards module</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">textobjects</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>wildcards module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/wildcards.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-wildcards">
<span id="wildcards-module"></span><h1>wildcards module<a class="headerlink" href="#module-wildcards" title="Permalink to this headline">¶</a></h1>
<p>Wildcards for template strings</p>
<dl class="data">
<dt id="wildcards.PostambleFunction">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">PostambleFunction</code><em class="property"> = typing.Callable[[typing.Iterable[typing.Tuple[typing.Union[textobjects.placeholders.Placeholder, NoneType], typing.Union[typing.Pattern, typing.Iterable[typing.Tuple[typing.Union[textobjects.placeholders.Placeholder, NoneType], typing.Pattern]]]]], int, textobjects.typedef.EvaluationContext], typing.Callable[[str], typing.Tuple[textobjects.typedef.ExecutionContext, types.SimpleNamespace]]]</em><a class="headerlink" href="#wildcards.PostambleFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>The function type for a postamble</p>
</dd></dl>

<dl class="data">
<dt id="wildcards.PreambleFunction">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">PreambleFunction</code><em class="property"> = typing.Callable[[typing.Iterable[typing.Tuple[typing.Union[textobjects.placeholders.Placeholder, NoneType], typing.Union[typing.Pattern, typing.Iterable[typing.Tuple[typing.Union[textobjects.placeholders.Placeholder, NoneType], typing.Pattern]]]]], int, textobjects.typedef.EvaluationContext], typing.Callable[[str], typing.Tuple[textobjects.typedef.ExecutionContext, types.SimpleNamespace]]]</em><a class="headerlink" href="#wildcards.PreambleFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>The function type for a preamble</p>
</dd></dl>

<dl class="data">
<dt id="wildcards.TransformationFunction">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">TransformationFunction</code><em class="property"> = typing.Callable[[textobjects.typedef.EvaluationContext], typing.Callable[[str], typing.Tuple[textobjects.typedef.EvaluationContext, types.SimpleNamespace]]]</em><a class="headerlink" href="#wildcards.TransformationFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>The function type for a transformation</p>
</dd></dl>

<dl class="class">
<dt id="wildcards.Wildcard">
<em class="property">class </em><code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">Wildcard</code><span class="sig-paren">(</span><em class="sig-param">symbol: str, action: Callable, kind: Literal[preamble, postamble, transformation]</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.Wildcard" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A wildcard changes the behaviour of template matching.
register a wildcard by creating an instance of this class</p>
<dl class="attribute">
<dt id="wildcards.Wildcard.action">
<code class="sig-name descname">action</code><em class="property">: Callable</em><em class="property"> = None</em><a class="headerlink" href="#wildcards.Wildcard.action" title="Permalink to this definition">¶</a></dt>
<dd><p>A function which wraps the current template matching behaviour.
parameters will very based on the <a class="reference internal" href="#wildcards.Wildcard.kind" title="wildcards.Wildcard.kind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Wildcard.kind</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="wildcards.Wildcard.kind">
<code class="sig-name descname">kind</code><em class="property">: Literal['preamble', 'postamble', 'transformation']</em><em class="property"> = None</em><a class="headerlink" href="#wildcards.Wildcard.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of wildcard. This specifies which arguments will be provided
to <a class="reference internal" href="#wildcards.Wildcard.action" title="wildcards.Wildcard.action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Wildcard.action</span></code></a> as well as the time at which the <cite>action</cite>
function will be called</p>
<blockquote>
<div><dl class="simple">
<dt>preamble: wildcards of this type will be called before processing the</dt><dd><p>placeholder. see <a class="reference internal" href="#wildcards.PreambleFunction" title="wildcards.PreambleFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wildcards.PreambleFunction</span></code></a>.
Use decorator <code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;preamble(symbol)()</span></code> to register these</p>
</dd>
<dt>postamble: similar to <a class="reference internal" href="#wildcards.preamble" title="wildcards.preamble"><code class="xref py py-obj docutils literal notranslate"><span class="pre">preamble</span></code></a> but called after the processing</dt><dd><p>for the placeholder has been set up. see <a class="reference internal" href="#wildcards.PostambleFunction" title="wildcards.PostambleFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wildcards.PostambleFunction</span></code></a>.
Use <code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;postamble(symbol)()</span></code> to register these</p>
</dd>
<dt>transformation: transfomrations do most of the work for matching the template string.</dt><dd><p>transformations are applied to each pattern within the placeholder, including
any embedded placeholders. use <code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;transformation(symbol)()</span></code> to register these.
see <a class="reference internal" href="#wildcards.TransformationFunction" title="wildcards.TransformationFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wildcards.TransformationFunction</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="wildcards.Wildcard.symbol">
<code class="sig-name descname">symbol</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#wildcards.Wildcard.symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>The symbol used in the placeholder to specify this wildcard.
It must be unique and contain only non-alphanumeric characters
(<cite>recognized by W in a regular expression</cite>)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wildcards.Wildcards">
<em class="property">class </em><code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">Wildcards</code><span class="sig-paren">(</span><em class="sig-param">initlist=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.Wildcards" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.UserList</span></code></p>
<p>A collection of wildcards</p>
<dl class="method">
<dt id="wildcards.Wildcards.postambles">
<code class="sig-name descname">postambles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.Wildcards.postambles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wildcards.Wildcards.preambles">
<code class="sig-name descname">preambles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.Wildcards.preambles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wildcards.Wildcards.transformations">
<code class="sig-name descname">transformations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.Wildcards.transformations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="wildcards.match">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param">text: str</em>, <em class="sig-param">pattern: Pattern</em>, <em class="sig-param">ctx: textobjects.typedef.ExecutionContext</em>, <em class="sig-param">obj</em>, <em class="sig-param">evalctx</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.match" title="Permalink to this definition">¶</a></dt>
<dd><p>match the pattern in the text</p>
</dd></dl>

<dl class="function">
<dt id="wildcards.optional">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">optional</code><span class="sig-paren">(</span><em class="sig-param">parsedtemplate</em>, <em class="sig-param">index</em>, <em class="sig-param">ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional placeholders will be captured if they are found and
the remainder of the template string matches. Otherwise they are ignored.
The template string will be evaluated twice, once without the placeholder and
once with the placeholder. If it fails to match with the placeholder then the
result will eventually be selected as the match without the placeholder.</p>
</dd></dl>

<dl class="function">
<dt id="wildcards.parse">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">wcstr: str</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>extract wildcard symbols from a string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wcstr</strong> (<em>str</em>) – the string containing the wildcard symbols</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(wildcards.Wildcards) a list of <a class="reference internal" href="#wildcards.Wildcard" title="wildcards.Wildcard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wildcards.Wildcard</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wildcards.postamble">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">postamble</code><span class="sig-paren">(</span><em class="sig-param">symbol</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.postamble" title="Permalink to this definition">¶</a></dt>
<dd><p>register a PostambleFunction to be applied after building the
template matching function for a placeholder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>symbol</strong> (<em>str</em>) – the symbol which designates the postamble in the placeholder</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a decorator function which registers the supplied function as a postamble</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wildcards.preamble">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">preamble</code><span class="sig-paren">(</span><em class="sig-param">symbol</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.preamble" title="Permalink to this definition">¶</a></dt>
<dd><p>register a PreambleFunction to be applied before building the
template matching function for a placeholder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>symbol</strong> (<em>str</em>) – the symbol which designates the preamble in the placeholder</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a decorator function which registers the supplied function as a preamble</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wildcards.recursive_wrap">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">recursive_wrap</code><span class="sig-paren">(</span><em class="sig-param">ctx</em>, <em class="sig-param">store_func</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.recursive_wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>default handler for recursion of
transformations. This wraps the current
template matching function and recursivley
determines the ParsedTemplate for the placeholders
subexpression. The result is stored using the provided
<cite>store_func</cite></p>
</dd></dl>

<dl class="function">
<dt id="wildcards.repeatmatch">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">repeatmatch</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">pattern</em>, <em class="sig-param">ctx</em>, <em class="sig-param">obj</em>, <em class="sig-param">evalctx</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.repeatmatch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wildcards.repeatsearch">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">repeatsearch</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">pattern</em>, <em class="sig-param">ctx</em>, <em class="sig-param">obj</em>, <em class="sig-param">evalctx</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.repeatsearch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wildcards.search">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">pattern</em>, <em class="sig-param">ctx</em>, <em class="sig-param">obj</em>, <em class="sig-param">evalctx</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for the placeholder expression in the text</p>
</dd></dl>

<dl class="function">
<dt id="wildcards.store_result">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">store_result</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">result</em>, <em class="sig-param">placeholder</em>, <em class="sig-param">ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.store_result" title="Permalink to this definition">¶</a></dt>
<dd><p>default result storage function for matches.
Simply sets an attribute with the placeholder name on
the output object</p>
</dd></dl>

<dl class="function">
<dt id="wildcards.transformation">
<code class="sig-prename descclassname">wildcards.</code><code class="sig-name descname">transformation</code><span class="sig-paren">(</span><em class="sig-param">symbol</em>, <em class="sig-param">store_func=&lt;function store_result&gt;</em>, <em class="sig-param">recurse_func=&lt;function recursive_wrap&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#wildcards.transformation" title="Permalink to this definition">¶</a></dt>
<dd><p>register a TransformationFunction to be applied to
each pattern within a placeholder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – the symbol to identify the wildcard within the placeholder</p></li>
<li><p><strong>store_func</strong> – a function to store the result of the transformation onto the
output object. It must have the same signature and return type as
<a class="reference internal" href="#wildcards.store_result" title="wildcards.store_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">wildcards.store_result()</span></code></a></p></li>
<li><p><strong>recurse_func</strong> – a function to handle the recursive element of the transformation
(transformations of other placeholders within the placeholder). it should
delegate to <code class="xref py py-func docutils literal notranslate"><span class="pre">EvaluationContext.template.parse(ParsedTemplate,</span> <span class="pre">rec=True)()</span></code>.
It must also match the signature and return types of <a class="reference internal" href="#wildcards.recursive_wrap" title="wildcards.recursive_wrap"><code class="xref py py-func docutils literal notranslate"><span class="pre">wildcards.recursive_wrap()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, BlakeSmith

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>